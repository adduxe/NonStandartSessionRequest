
<form id="sessionRequestForm" name="sessionRequestForm" class="form-horizontal" novalidate ng-submit="submit()">

    <div class="row">
        
        <!-- 1st Column -->
        <div class="col-md-4" id="firstColumn">
            <div class="form-group" ng-class="{'has-error': sessionRequestForm.semester.$invalid && sessionRequestForm.$submitted}">
                <label for="semester" class="col-md-6 control-label">
                    <abbr title="Session semester being applied for">For Semester:</abbr>
                </label>
                <div class="col-md-6">
                    <select class="form-control" id="semester" name="semester" required ng-model="session.acadTerm" ng-change="SetRates();">
                        <option ng-repeat="eachSem in semesters" value="{{ eachSem.semCode }}">{{ eachSem.semName }}</option>
                    </select>
                </div>
            </div>
            <div class="form-group" ng-class="{'has-error': sessionRequestForm.classesStartDate.$invalid && sessionRequestForm.$submitted}">
                <label for="classesStartDate" class="col-md-6 control-label">
                    <abbr title="Session Start Date">First day<br>of Classes:</abbr>
                </label>
                <div class="col-md-6">
                    <input kendo-date-picker class="form-control" id="classStartDate" name="classStartDate" 
                           ng-change="ClassDatesChanged();" maxlength="10" required ng-model="session.firstDayOfClass" />
                </div>
            </div>
            <div class="form-group" ng-class="{'has-error': sessionRequestForm.classesEndDate.$invalid && sessionRequestForm.$submitted}">
                <label for="classesEndDate" class="col-md-6 control-label">
                    <abbr title="Session End Date">Last day<br>of Classes:</abbr>
                </label>
                <div class="col-md-6">
                    <input kendo-date-picker class="form-control" id="classEndDate" name="classEndDate" 
                           ng-change="ClassDatesChanged();" maxlength="10" required ng-model="session.lastDayOfClass" />
                </div>
            </div>
            <div class="form-group" ng-class="{'has-error': sessionRequestForm.isClassHeldAtUPC.$invalid && sessionRequestForm.$submitted}">
                <label for="isClassAtUPC" class="col-md-6 control-label">
                    <abbr title="Is the venue of the class going to be within the University Park Campus?">Class held at UPC?</abbr>
                </label>
                <div class="col-md-6">
                    <label class="radio-inline">
                        <input type="radio" name="isClassAtUPC" value="Y" ng-model="session.isClassHeldAtUPC" />Yes
                    </label>
                    <label class="radio-inline">
                        <input type="radio" name="isClassAtUPC" value="N" ng-model="session.isClassHeldAtUPC" />No
                    </label>
                </div>
            </div>
            <div class="form-group" ng-class="{'has-error': sessionRequestForm.rateType.$invalid && sessionRequestForm.$submitted}">
                <label for="rateType" class="col-md-6 control-label">
                    <abbr title="Indicate the appropriate tuition rate type for this Session">Tuition Rate Type:</abbr>
                </label>
                <div class="col-md-6">
                    <select class="form-control" id="rateType" name="rateType" required ng-model="session.rateType" ng-change="SetRates();">
                        <option ng-repeat="eachRate in rateTypes" value="{{ eachRate.rateCode }}">{{ eachRate.rateName }}</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-6">
                    &nbsp;
                </div>
                <div class="col-md-6" style="align-content:center;">
                    <abbr title="Required for a course in which a break five days or longer will be taken.  If the class follows USC’s Thanksgiving holiday and Spring break, the course must have a session break.">
                        <kendo-button id="addSessionBreaks" name="addSessionBreaks" class="form-control uscRedButton" required ng-model="session.addSessionBreaks" ng-click="AddSemesterBreaks();">
                            Add a Session Break
                        </kendo-button>
                    </abbr>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-6">
                    &nbsp;
                </div>
                <div class="col-md-6">
                    <abbr title="Click here if you want to add Sections to this Session">
                        <kendo-button id="addSections" name="addSections" class="form-control uscRedButton" required ng-click="AddSection();">
                            Add a Section
                        </kendo-button>
                    </abbr>
                </div>
            </div>
        </div>
        <!-- End of 1st Column -->

        <!--  2nd Column-->
        <div class="col-md-4" id="secondColumn">
            <div class="form-group" ng-class="{'has-error': sessionRequestForm.sessionCode.$invalid && sessionRequestForm.$submitted}">
                <label for="sessionCode" class="col-md-6 control-label">
                    <abbr title="3-digit Session code">Session Code:</abbr>
                </label>
                <div class="col-md-6">
                    <input kendo-auto-complete class="form-control" id="sessionCode" name="sessionCode" maxlength="4" required 
                           ng-model="session.sessionCode" k-data-source="sessionCodes" />
                </div>
            </div>
            <div class="form-group" ng-class="{'has-error': sessionRequestForm.finalsStartDate.$invalid && sessionRequestForm.$submitted}">
                <label for="finalsStartDate" class="col-md-6 control-label">
                    <abbr title="Finals Starting Period Date">First day <br> of Finals:</abbr>
                </label>
                <div class="col-md-6">
                    <input kendo-date-picker class="form-control" id="finalsStartDate" name="finalsStartDate" maxlength="10" 
                           ng-change="FinalsDatesChanged();" required ng-model="session.firstDayOfFinals" />
                </div>
            </div>
            <div class="form-group" ng-class="{'has-error': sessionRequestForm.finalsEndDate.$invalid && sessionRequestForm.$submitted}">
                <label for="finalsEndDate" class="col-md-6 control-label">
                    <abbr title="Finals Ending Period Date">Last day<br>of Finals:</abbr>
                </label>
                <div class="col-md-6">
                    <input kendo-date-picker class="form-control" id="finalsEndDate" name="finalsEndDate" maxlength="10" 
                           ng-change="FinalsDatesChanged();" required ng-model="session.lastDayOfFinals" />
                </div>
            </div>
            <div class="form-group" ng-class="{'has-error': sessionRequestForm.offCampusLocation.$invalid && sessionRequestForm.$submitted}">
                <label for="offCampusLocation" class="col-md-6 control-label">
                    <abbr title="USC Campus outside of UPC where class will be held">Off-campus Location:</abbr>
                </label>
                <div class="col-md-6">
                    <select class="form-control" id="offCampusLocation" name="offCampusLocation" required ng-model="session.uscCampusLocation">
                        <option ng-repeat="eachCampus in campusLocs" value="{{ eachCampus.campusCode }}">{{ eachCampus.campusName }}</option>
                    </select>
                </div>
            </div>
            <div class="form-group" ng-class="{'has-error': sessionRequestForm.tuitionUnitRate.$invalid && sessionRequestForm.$submitted}">
                <label for="tuitionUnitRate" class="col-md-6 control-label">
                    <abbr title="Tuition per unit rate in dollars">Tuition per Unit:</abbr>
                </label>
                <div class="col-md-6">
                    <input type="text" class="form-control" id="tuitionUnitRate" name="tuitionUnitRate" required ng-model="session.tuitionUnitRate" />
                </div>
            </div>
            <div class="form-group" ng-class="{'has-error': sessionRequestForm.sessionComment.$invalid && sessionRequestForm.$submitted}">
                <label for="sessionComment" class="col-md-6 control-label">
                    <abbr title="In this space, enter up to a 60-character comment specific to the Session.">
                        Session<br>Comment
                    </abbr>:
                </label>
                <div class="col-md-6">
                    <textarea type="text" class="form-control" id="sessionComment" name="sessionComment" maxlength="60" required ng-model="session.sessionComment" />
                </div>
            </div>
        </div>
        <!-- End of 2nd Column -->

        <!-- 3rd Column -->
        <div class="col-md-4" id="thirdColumn">
            <div class="form-group" ng-class="{'has-error': sessionRequestForm.lastDayAddDrop.$invalid && sessionRequestForm.$submitted}">
                <label for="lastDayAddDrop" class="col-md-6 control-label">
                    <abbr title="Last day to Add or Drop classes">Last day to Add/Drop:</abbr>
                </label>
                <div class="col-md-6">
                    <input type="text" class="form-control disabled" id="lastDayAddDrop" name="lastDayAddDrop" maxlength="10" readonly ng-model="session.lastDayToAddDrop" />
                </div>
            </div>
            <div class="form-group" ng-class="{'has-error': sessionRequestForm.lastDayEnrollOptionChange.$invalid && sessionRequestForm.$submitted}">
                <label for="lastDayEnrollChange" class="col-md-6 control-label">
                    <abbr title="Last day to change Enrollment Option from 'PN' to 'L'">Last day to change Enrollment Options:</abbr>
                </label>
                <div class="col-md-6">
                    <input type="text" class="form-control disabled" id="lastDayEnrollChange" name="lastDayEnrollChange" maxlength="10" readonly ng-model="session.lastDayEnrollChange" />
                </div>
            </div>
            <div class="form-group" ng-class="{'has-error': sessionRequestForm.lastDayWithdraw.$invalid && sessionRequestForm.$submitted}">
                <label for="lastDayWithdraw" class="col-md-6 control-label">
                    <abbr title="Last day to Withdraw classes">Last day <br> to Withdraw:</abbr>
                </label>
                <div class="col-md-6">
                    <input type="text" class="form-control disabled" id="lastDayWithdraw" name="lastDayWithdraw" maxlength="20" readonly ng-model="session.lastDayToWithdraw" />
                </div>
            </div>
            <div class="form-group" ng-class="{'has-error': sessionRequestForm.otherCampusLocation.$invalid && sessionRequestForm.$submitted}">
                <label for="otherCampusLocation" class="col-md-6 control-label">
                    <abbr title="Indicate a campus other than the ones listed in the dropdown">Campus location:</abbr>
                </label>
                <div class="col-md-6">
                    <input type="text" class="form-control" id="otherCampusLocation" name="otherCampusLocation" maxlength="20" ng-model="session.otherCampusLocation" />
                </div>
            </div>
            <div class="form-group" ng-class="{'has-error': sessionRequestForm.tuitionFlatRate.$invalid && sessionRequestForm.$submitted}">
                <label for="tuitionFlatRate" class="col-md-6 control-label">
                    <abbr title="Tuition flat rate in dollars">Tuition Flat Rate:</abbr>
                </label>
                <div class="col-md-6">
                    <input type="text" class="form-control" id="tuitionFlatRate" name="tuitionFlatRate" readonly required ng-model="session.tuitionFlatRate" />
                </div>
            </div>
            <div class="form-group" ng-class="{'has-error': sessionRequestForm.flatUnitsMax.$invalid && sessionRequestForm.$submitted}">
                <label for="flatUnitsMin" class="col-md-6 control-label">
                    <abbr title="Tuition flat rate in dollars">Flat Rate Range:(units)</abbr>
                </label>
                <div class="col-md-6" style="align-items:center;">
                    <input id="flatUnitsMin" name="flatUnitsMin" type="number" value="1" min="1" max="18" 
                           ng-model="session.flatUnitsMin" class="form-control" style="width:60px;display:inline;" />
                    &nbsp;&nbsp;to&nbsp;&nbsp;
                    <input id="flatUnitsMax" name="flatUnitsMax" type="number" value="2" min="2" max="30" 
                           ng-model="session.flatUnitsMax" class="form-control" style="width:60px;display:inline;" />
                </div>
            </div>
        </div>
        <!-- End of 3rd Column -->
    </div> <!-- class="row" -->

    <!--  Session Breaks section -->
    <div ng-show="session.sessionBreaks.length" style="background-color:rgba(153,0,0,.7);padding-bottom:15px;color:#ffcc00;">

        <div class="row" sstyle="align-self:center;color:#ffcc00;">
            <div class="col-md-1">
            </div>
            <div class="col-md-4" style="text-align:center;">
                <h4>Break Start</h4>
            </div>
            <div class="col-md-4" style="text-align:center;">
                <h4>Break End</h4>
            </div>
            <div class="col-md-3">
                &nbsp;
            </div>
        </div>

        <div class="row" style="align-items:center;padding-bottom:5px;" ng-show="session.sessionBreaks" ng-repeat="eachBreak in session.sessionBreaks">
            <div class="col-md-1"  style="text-align:right;">
            </div>
            <div class="col-md-4" style="align-self:center;">
                <input kendo-date-picker class="form-control" />
            </div>
            <div class="col-md-4" style="align-self:center;">
                <input kendo-date-picker class="form-control" />
            </div>
            <div class="col-md-3" style="align-self:center;">
                <a href="javascript:;" title="Delete this Semester Break" ng-click="session.sessionBreaks.splice($index,1);">[X] Remove this Semester Break</a>
            </div>
        </div>
    </div>
    <!-- End of Session Breaks Section -->

    <br/>

    <!--  Start of Section section -->

    <div ng-show="session.sections.length" style="background-color:#ffcc00;padding-top:5px;padding-right:10px;border:solid;border-color:white;">

        <div class="row">
            <div class="col-md-12" style="text-align:center;">
                <h3>Sections</h3>
            </div>
        </div>
        <div class="row" ng-repeat="eachSection in session.sections" style="border-top:solid; border-color:white; padding-top:15px;">
            <div class="col-md-12" style="text-align:right;padding-bottom:15px;">
                <a class="uscRedButton" href="javascript:;" ng-click="session.sections.splice($index,1);" title="Delete this Section">[X] Remove this section</a>
            </div>
            <!-- Section 1st column -->
            <div class="col-md-4">
                <div class="form-group" ng-class="{'has-error': sessionRequestForm.sectionNumber.$invalid && sessionRequestForm.$submitted}">
                    <label for="sectionNumber" class="col-md-6 control-label">
                        <abbr title="A 5-digit identifier.  Make sure the number you enter is within the range assigned to your department.">Section Number:</abbr>
                    </label>
                    <div class="col-md-6">
                        <input type="text" class="form-control" id="sectionNumber" name="sectionNumber" maxlength="25" required ng-model="session.sectionNumber" />
                    </div>
                </div>
                <div class="form-group" ng-class="{'has-error': sessionRequestForm.sectionTitle.$invalid && sessionRequestForm.$submitted}">
                    <label for="sectionTitle" class="col-md-6 control-label">
                        <abbr title="The title for the course that will print in the Schedule of Classes and on student transcripts.">Section Title:</abbr>
                    </label>
                    <div class="col-md-6">
                        <input type="text" class="form-control" id="sectionTitle" name="sectionTitle" maxlength="25" required ng-model="session.sectionTitle" />
                    </div>
                </div>
                <div class="form-group" ng-class="{'has-error': sessionRequestForm.incomeAcctNumber.$invalid && sessionRequestForm.$submitted}">
                    <label for="incomeAcctNumber" class="col-md-6 control-label">
                        <abbr title="The account number to which enrollment in the class should be credited.">Income Account No.:</abbr>
                    </label>
                    <div class="col-md-6">
                        <input type="text" class="form-control" id="incomeAcctNumber" name="incomeAcctNumber" maxlength="25" required ng-model="session.incomeAcctNumber" />
                    </div>
                </div>
                <div class="form-group" ng-class="{'has-error': sessionRequestForm.addClassSched.$invalid && sessionRequestForm.$submitted}">
                    <label for="addClassSched" class="col-md-6 control-label">
                        &nbsp;
                    </label>
                    <div class="col-md-6">
                        <abbr title="Click here to add a day, begin, and end times for the class.">
                            <kendo-button id="addClassSched" name="addClassSched" class="uscRedButton" required ng-click="AddSchedule(eachSection);">
                                Add a Schedule
                            </kendo-button>
                        </abbr>
                    </div>
                </div>
            </div>

            <!-- Section 2nd column -->
            <div class="col-md-4">
                <div class="form-group" ng-class="{'has-error': sessionRequestForm.deptAbbrev.$invalid && sessionRequestForm.$submitted}">
                    <label for="deptAbbrev" class="col-md-6 control-label">
                        <abbr title="The department's abbreviation (e.g. BUAD, AME, SPAN, etc.)'">Prefix:</abbr>
                    </label>
                    <div class="col-md-6">
                        <input type="text" class="form-control" id="deptAbbrev" name="deptAbbrev" maxlength="25" required ng-model="session.deptAbbrev" />
                    </div>
                </div>
                <div class="form-group" ng-class="{'has-error': sessionRequestForm.unitValue.$invalid && sessionRequestForm.$submitted}">
                    <label for="unitValue" class="col-md-6 control-label">
                        <abbr title="Number of units assigned to the course. The units entered should be the maximum units that most students are expected to earn (note that they may earn fewer units if they take less than a full load).">
                            Unit value:
                        </abbr>
                    </label>
                    <div class="col-md-6">
                        <input type="text" class="form-control" id="unitValue" name="unitValue" maxlength="25" required ng-model="session.unitValue" />
                    </div>
                </div>
                <div class="form-group" ng-class="{'has-error': sessionRequestForm.enrollEstimate.$invalid && sessionRequestForm.$submitted}">
                    <label for="enrollEstimate" class="col-md-6 control-label">
                        <abbr title="Capacity of the course. This may not exceed the capacity of the room in which the class will be scheduled.">
                            Estimated Enrollment:
                        </abbr>
                    </label>
                    <div class="col-md-6">
                        <input type="text" class="form-control" id="enrollEstimate" name="enrollEstimate" maxlength="25" required ng-model="session.enrollEstimate" />
                    </div>
                </div>
            </div>

            <!-- Section 3rd column -->
            <div class="col-md-4">
                <div class="form-group" ng-class="{'has-error': sessionRequestForm.courseNumber.$invalid && sessionRequestForm.$submitted}">
                    <label for="courseNumber" class="col-md-6 control-label">
                        <abbr title="A 3-digit code of the course being offered. This number, combined with the Prefix, gives a complete designation for the course, such as BUAD-494.">Course Number:</abbr>
                    </label>
                    <div class="col-md-6">
                        <input type="text" class="form-control" id="courseNumber" name="courseNumber" maxlength="25" required ng-model="session.courseNumber" />
                    </div>
                </div>
                <div class="form-group" ng-class="{'has-error': sessionRequestForm.instructorName.$invalid && sessionRequestForm.$submitted}">
                    <label for="instructorName" class="col-md-6 control-label">
                        <abbr title="Name of the instructor who will be teaching the course. The instructor’s name should be entered in the following order: Last name, First name">
                            Instructor Name:
                        </abbr>
                    </label>
                    <div class="col-md-6">
                        <input type="text" class="form-control" id="instructorName" name="instructorName" maxlength="25" required ng-model="session.instructorName" />
                    </div>
                </div>
                <div class="form-group" ng-class="{'has-error': sessionRequestForm.sectionComment.$invalid && sessionRequestForm.$submitted}">
                    <label for="sectionComment" class="col-md-6 control-label">
                        <abbr title="In this space, enter up to a 60-character comment specific to the section (list 3 descriptors: 1. the country and 2. university name where the course will take place, and 3. the USC school offering the program).">
                            Section<br>Comments:
                        </abbr>
                    </label>
                    <div class="col-md-6">
                        <textarea type="text" class="form-control" id="sectionComment" name="sectionComment" maxlength="60" required ng-model="session.sectionComment" />
                    </div>
                </div>
            </div>

            <div class="col-md-12" ng-repeat="eachSched in eachSection.classSched">
                <div class="col-md-3">
                    <div class="form-group" ng-class="{'has-error': sessionRequestForm.classDay.$invalid && sessionRequestForm.$submitted}">
                        <label for="classDay" class="col-md-6 control-label">
                            Class Day
                        </label>
                        <div class="col-md-6">
                            <select kendo-drop-down-list class="form-control" id="classDay" name="classDay" maxlength="25" required ng-model="session.classDay">
                                <option value="" disabled >Select a day</option>
                                <option value="Sun">Sunday</option>
                                <option value="Mon">Monday</option>
                                <option value="Tue">Tuesday</option>
                                <option value="Wed">Wednesday</option>
                                <option value="Thu">Thursday</option>
                                <option value="Fri">Friday</option>
                                <option value="Sat">Saturday</option>
                                <option value="TBD">To be determined</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group" ng-class="{'has-error': sessionRequestForm.classStart.$invalid && sessionRequestForm.$submitted}">
                        <label for="classStart" class="col-md-6 control-label">
                            Class Start
                        </label>
                        <div class="col-md-6">
                            <input kendo-time-picker class="form-control" id="classStart" name="classStart" maxlength="25" required ng-model="session.classStart" />
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group" ng-class="{'has-error': sessionRequestForm.classEnd.$invalid && sessionRequestForm.$submitted}">
                        <label for="classEnd" class="col-md-6 control-label">
                            Class End
                        </label>
                        <div class="col-md-6">
                            <input kendo-time-picker class="form-control" id="classEnd" name="classEnd" maxlength="25" required ng-model="session.classEnd" />
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <a class="uscRedButton" href="javascript:;" ng-click="eachSection.classSched.splice($index,1);" title="Delete this Section">
                        [ X ] Remove this day
                    </a>
                </div>
            </div>
        </div>

    </div>
        
    <!--  End of Section section -->
    <br>
    <div class="row" style="align-content:center;">
        <div class="col-md-5">
        </div>
        <div class="col-md-2">
            <kendo-button type="submit" class="form-control uscRedButton">Submit</kendo-button>
        </div>
        <div class="col-md-5">
        </div>
    </div>
    <input type="hidden" ng-model="lastFinalGradingStartDate" value=""/>
    <input type="hidden" ng-model="lastFinalGradingEndDate" value="" />
</form>
